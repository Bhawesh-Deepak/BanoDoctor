$(function(){$("#txtSelectionInfo").on("keypress",function(n){n.keyCode==13&&$("#search").click()})});$(function(){$("[data-expand-collapse]").length&&$("[data-expand-collapse]").each(function(){var n=$(this),t=$(this).data("expand-collapse");$(t).on("click",function(){if(!(n.find("tr").length<=2)&&($(this).parents("tr").siblings("tr").find("td").slideUp(200),n.find("div.expIcon").length==0)){n.css("position","relative");$('<div class="expIcon curPointer posAbs f22" title="Expand">[+]<\/div>').css({bottom:"8px",right:"-30px"}).prependTo(n).on("click",function(){n.find("td").slideDown(200);$(this).remove()})}})});$("#txtSearchRecord").on("keypress",function(n){n.keyCode==13&&SearchRecord()})});$(document).ready(function(){macDrug.fn_BindListOnLoad()});var macDrug={fn_BindListOnLoad:function(){var n={};$("#SearchForm").serializeArray().map(function(t){n[t.name]=t.value});$.post("/MacDrug/FilteredMacDrug",{searchModelEntity:n,sortBy:"",pageIndex:1},function(n){$("#dvClaimPartial").html(n)})},fn_GetMacDrugListLoad:function(){var n={};n.strValue=commanAjax.fn_GetUrlVars().strValue;$.ajax({type:"GET",url:"/MacDrug/FilteredMacDrug",data:n,success:function(n){$("#dvMacDrugListPartial").html("");$("#dvMacDrugListPartial").html(n)}})},fn_filterMacDrug:function(){var n={};n.strValue=$("#txtSelectionInfo").val();$.ajax({type:"POST",url:"/MacDrug/FilteredMacDrug",data:n,success:function(n){$("#dvMacDrugListPartial").html("");$("#dvMacDrugListPartial").html(n)}})},fn_BidDetails:function(n,t){$("#dMacDrugListName").html("MAC Drug List Details ("+t+")");var i={};i.macDrugListId=n;$("#divClaimList").addClass("ajaxLoading");$.ajax({type:"POST",url:"/MacDrug/MacDrugListDetails",data:i,success:function(t){t.search("sessionModel")>0?location.reload():($("#MacDrugListId").val(n),$("#dvMacDrugDetailsHeading").show(),$("#dvMacDrugListDetailsPartial").html(t),$("#dvMacDrugDetailsHeading").find("#SearchRecord").val(""),commanAjax.fn_SetActiveFirstRow("#tblMacDrugDetailList"),$("#THSMACDrugListDetailModel").modal("show"),$("#divClaimList").removeClass("ajaxLoading"))}})},fn_SearchMacDrug:function(){var n={};n.macDrugListId=$("#hdnSearchRecordMacDrugListId").val();n.searchRecord=$("#txtSearchRecord").val().replace("Search NDC","");$.ajax({type:"POST",url:"/MacDrug/MacDrugListDetailsSearchRecords",data:n,success:function(n){if(n.search("sessionModel")>0)location.reload();else{$("#dvMacDrugListDetailsPartial").html(n);var t=$("#dvMacDrugListDetailsPartial  #claimSearch_info").text();typeof t!="undefined"&&t.trim()!=""&&(t=t.split(" ")[5]+" record(s) found")}}})},fn_GetUrl:function(){return"/MacDrug/FilteredMacDrug"},fn_GetInnerFormName:function(){return"SearchFormInner"},fn_GetUrlInnerList:function(){return"/MacDrug/MacDrugListDetails"},fn_GetLoadingDiv:function(){return"#divDrugListDetail"},fn_CloseCurrentModel:function(){setTimeout(function(){$("#tblMacDrugList").find("tbody tr:first")!=undefined&&$("#tblMacDrugList tbody tr:first").find("td").length>1&&$("#tblMacDrugList tr.selected").click()},100)},fn_BidDetailsOnReset:function(){var n=$("#hdnMacDrugListId").val(),t={};t.macDrugListId=n;$.ajax({type:"POST",url:"/MacDrug/MacDrugListDetails",data:t,success:function(t){t.search("sessionModel")>0?location.reload():($("#MacDrugListId").val(n),$("#dvMacDrugDetailsHeading").show(),$("#dvMacDrugListDetailsPartial").html(t),commanAjax.fn_SetActiveFirstRow("#tblMacDrugDetailList"),$("#THSMACDrugListDetailModel").modal("show"))}})}};