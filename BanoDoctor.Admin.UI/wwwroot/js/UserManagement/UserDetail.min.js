var _userDetailListLink="/UserDetail/UserDetails",_createUserLink="/UserDetail/CreateUser",userDetail,masking;$(document).ready(function(){userDetail.fn_GetUserDetailList()});userDetail={fn_GetUserDetailList:function(){$.get(_userDetailListLink,function(n){$("#divUserList").html(n);commanAjax.fn_SetActiveFirstRow("#tblUsers")})},fn_AddUser:function(){$("#divUserList").addClass("ajaxLoading");$("#modalTitle").text("Add User Details");$.get(_createUserLink,function(n){n.search("sessionModel")>0&&location.reload();$("#divPartialData").html(n)}).done(function(){$("#THSCommanModalPopUp").modal("show");$("#modalSize").removeClass("modal-dialog lg").addClass("modal-dialog md");$("#btnClose").bind("click",function(){userDetail.fn_GetUserDetailList()});$("#divUserList").removeClass("ajaxLoading")})},fn_UpdateUser:function(n){$("#divUserList").addClass("ajaxLoading");$("#modalTitle").text("Edit User Details");$.get(_createUserLink,{id:n},function(n){$("#divPartialData").html(n)}).done(function(){$("#THSCommanModalPopUp").modal("show");$("#modalSize").removeClass("modal-dialog lg").addClass("modal-dialog md");$("#btnClose").bind("click",function(){userDetail.fn_GetUserDetailList()});$("#divUserList").removeClass("ajaxLoading")})},fn_closePopUp:function(){userDetail.fn_GetUserDetailList();$("#THSCommanModalPopUp").modal("hide")},fn_Success:function(n){n.messageId==-1?commanAjax.Fn_CommanAlert(n.message,"Error"):(commanAjax.Fn_CommanAlert(n.message,"Alert!"),n.messageId>0?($("#THSCommanModalPopUp").modal("hide"),userDetail.fn_GetUserDetailList()):$("#UserName").val(""))},fn_ValidateEmail:function(n){var t=!0,i;$.get("/Authenticate/CheckSessionPresist",function(n){n||(t=!1,location.reload())});t&&(i=$("#EmailId").val(),$.get("/UserDetail/ValidateEmailId",{emailId:i,userId:n},function(n){n.length>0&&(commanAjax.Fn_CommanAlert(n,"Alert!"),$("#EmailId").val(""),$("#EmailId").removeClass().addClass("form-control input-validation-error"))}))},fn_SearchBegin:function(){$("#divUserSearch").addClass("ajaxLoading")},fn_searchComplete:function(){commanAjax.fn_SetActiveFirstRow("#tblUsers");$("#divUserSearch").removeClass("ajaxLoading")}};masking={fn_phonemasking:function(){$(".phone").mask("(999) 999-9999");$(".phone").on("blur",function(){var n=$(this).val().substr($(this).val().indexOf("-")+1);if(n.length==5){var t=$(this).val().substr($(this).val().indexOf("-")+1,1),i=n.substr(1,4),r=$(this).val().substr(0,9);$(this).val(r+t+"-"+i)}})}};